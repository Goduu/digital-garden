---
title: Update two states after fetch
date: 2023-01-01
tags: ['react', 'async']
summary: Exploring methods to efficiently update multiple React states after a fetch operation, including using unstable_batchedUpdates() in React 16/17 and the automatic handling in React 18.
---

When we need to fetch something and update 2 React states, how should we proceed?

- React 16/17 has a `unstable_batchedUpdates()` function to update states in batch

```ts
import { unstable_batchedUpdates } from 'react-dom'

unstable_batchedUpdates(() => {
  setName('Moustafa')
  setAge(25)
})
```

- React 18 makes that automatically
- Other alternative would be making a unique state with all props that would change
